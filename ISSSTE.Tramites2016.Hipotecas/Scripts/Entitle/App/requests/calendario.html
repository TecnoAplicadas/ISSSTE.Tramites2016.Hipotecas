<!--
//####################################################################
//      ## Fecha de creación: 18-03-2016
//      ## Fecha de última modificación: 30-03-2016
//      ## Responsable: Emanuel De la Isla Vértiz
//      ## Módulos asociados: Información general, Deudos, Beneficiarios, Historial Laboral.
//      ## Id Tickets asociados al cambio: R-013042
//####################################################################
-->
<div class="container" ng-controller="dateController as vm" ng-init="vm.initCalendar()">
<<<<<<< .mine
   
    <!-- Begin Digital Analytix Tag 1.1302.13 -->
||||||| .r86
=======
    <!-- Begin Digital Analytix Tag 1.1302.13 -->
>>>>>>> .r116
    <script type="text/javascript">
<<<<<<< .mine
	function udm_(e){var t="comScore=",n=document,r=n.cookie,i="",s="indexOf",o="substring",u="length",a=2048,f,l="&ns_",c="&",h,p,d,v,m=window,g=m.encodeURIComponent||escape;if(r[s](t)+1)for(d=0,p=r.split(";"),v=p[u];d<v;d++)h=p[d][s](t),h+1&&(i=c+unescape(p[d][o](h+t[u])));e+=l+"_t="+ +(new Date)+l+"c="+(n.characterSet||n.defaultCharset||"")+"&c8="+g(n.title)+i+"&c7="+g(n.URL)+"&c9="+g(n.referrer),e[u]>a&&e[s](c)>0&&(f=e[o](0,a-8).lastIndexOf(c),e=(e[o](0,f)+l+"cut="+g(e[o](f+1)))[o](0,a)),n.images?(h=new Image,m.ns_p||(ns_p=h),h.src=e):n.write("<","p","><",'img src="',e,'" height="1" width="1" alt="*"',"><","/p",">")};
	function uid_call(a, b){
		ui_c2 = 17183199; // your corporate c2 client value
		ui_ns_site = 'gobmx'; // your sites identifier
		window.b_ui_event = window.c_ui_event != null ? window.c_ui_event:"",window.c_ui_event = a;
		var ui_pixel_url = 'https://sb.scorecardresearch.com/p?c1=2&c2='+ui_c2+'&ns_site='+ui_ns_site+'&name='+a+'&ns_type=hidden&type=hidden&ns_ui_type='+b;
		var b="comScore=",c=document,d=c.cookie,e="",f="indexOf",g="substring",h="length",i=2048,j,k="&ns_",l="&",m,n,o,p,q=window,r=q.encodeURIComponent||escape;if(d[f](b)+1)for(o=0,n=d.split(";"),p=n[h];o<p;o++)m=n[o][f](b),m+1&&(e=l+unescape(n[o][g](m+b[h])));ui_pixel_url+=k+"_t="+ +(new Date)+k+"c="+(c.characterSet||c.defaultCharset||"")+"&c8="+r(c.title)+e+"&c7="+r(c.URL)+"&c9="+r(c.referrer)+"&b_ui_event="+b_ui_event+"&c_ui_event="+c_ui_event,ui_pixel_url[h]>i&&ui_pixel_url[f](l)>0&&(j=ui_pixel_url[g](0,i-8).lastIndexOf(l),ui_pixel_url=(ui_pixel_url[g](0,j)+k+"cut="+r(ui_pixel_url[g](j+1)))[g](0,i)),c.images?(m=new Image,q.ns_p||(ns_p=m),m.src=ui_pixel_url):c.write("<p><img src='",ui_pixel_url,"' height='1' width='1' alt='*'></p>");
	}
	udm_('https://sb.scorecardresearch.com/b?c1=2&c2=17183199&ns_site=gobmx&name=ISSSTE.Hipotecas.Inicio');
||||||| .r86

        function udm_(e) {
            var t = "comScore=", n = document, r = n.cookie, i = "", s = "indexOf", o = "substring", u = "length", a = 2048, f, l = "&ns_", c = "&", h, p, d, v, m = window, g = m.encodeURIComponent || escape; if (r[s](t) + 1) for (d = 0, p = r.split(";"), v = p[u]; d < v; d++) h = p[d][s](t), h + 1 && (i = c + unescape(p[d][o](h + t[u]))); e += l + "_t=" + +(new Date) + l + "c=" + (n.characterSet || n.defaultCharset || "") + "&c8=" + g(n.title) + i + "&c7=" + g(n.URL) + "&c9=" + g(n.referrer), e[u] > a && e[s](c) > 0 && (f = e[o](0, a - 8).lastIndexOf(c), e = (e[o](0, f) + l + "cut=" + g(e[o](f + 1)))[o](0, a)), n.images ? (h = new Image, m.ns_p || (ns_p = h), h.src = e) : n.write("<", "p", "><", 'img src="', e, '" height="1" width="1" alt="*"', "><", "/p", ">")
        };

        function uid_call(a, b) {
            ui_c2 = 17183199; // your corporate c2 client value
            ui_ns_site = 'gobmx_isssste_td-sp10'; // your sites identifier
            window.b_ui_event = window.c_ui_event != null ? window.c_ui_event : "", window.c_ui_event = a;
            var ui_pixel_url = 'https://sb.scorecardresearch.com/p?c1=2&c2=' + ui_c2 + '&ns_site=' + ui_ns_site + '&name=' + a + '&ns_type=hidden&type=hidden&ns_ui_type=' + b;
            var b = "comScore=", c = document, d = c.cookie, e = "", f = "indexOf", g = "substring", h = "length", i = 2048, j, k = "&ns_", l = "&", m, n, o, p, q = window, r = q.encodeURIComponent || escape; if (d[f](b) + 1) for (o = 0, n = d.split(";"), p = n[h]; o < p; o++) m = n[o][f](b), m + 1 && (e = l + unescape(n[o][g](m + b[h]))); ui_pixel_url += k + "_t=" + +(new Date) + k + "c=" + (c.characterSet || c.defaultCharset || "") + "&c8=" + r(c.title) + e + "&c7=" + r(c.URL) + "&c9=" + r(c.referrer) + "&b_ui_event=" + b_ui_event + "&c_ui_event=" + c_ui_event, ui_pixel_url[h] > i && ui_pixel_url[f](l) > 0 && (j = ui_pixel_url[g](0, i - 8).lastIndexOf(l), ui_pixel_url = (ui_pixel_url[g](0, j) + k + "cut=" + r(ui_pixel_url[g](j + 1)))[g](0, i)), c.images ? (m = new Image, q.ns_p || (ns_p = m), m.src = ui_pixel_url) : c.write("<p><img src='", ui_pixel_url, "' height='1' width='1' alt='*'></p>");
        }
        udm_('https://sb.scorecardresearch.com/b?c1=2&c2=17183199&ns_site=gobmx&name=area.seccion');
=======
        function udm_(e) { var t = "comScore=", n = document, r = n.cookie, i = "", s = "indexOf", o = "substring", u = "length", a = 2048, f, l = "&", c = "&", h, p, d, v, m = window, g = m.encodeURIComponent || escape; if (r[s](t) + 1) for (d = 0, p = r.split(";"), v = p[u]; d < v; d++) h = p[d][s](t), h + 1 && (i = c + unescape(p[d][o](h + t[u]))); e += l + "_t=" + +(new Date) + l + "c=" + (n.characterSet || n.defaultCharset || "") + "&c8=" + g(n.title) + i + "&c7=" + g(n.URL) + "&c9=" + g(n.referrer), e[u] > a && e[s](c) > 0 && (f = e[o](0, a - 8).lastIndexOf(c), e = (e[o](0, f) + l + "cut=" + g(e[o](f + 1)))[o](0, a)), n.images ? (h = new Image, m.p || (p = h), h.src = e) : n.write("<", "p", "><", 'img src="', e, '" height="1" width="1" alt="*"', "><", "/p", ">") };
        function uid_call(a, b) {
            ui_c2 = 17183199; // your corporate c2 client value
            ui_site = 'ISSSTE.Hipotecas.calendario'; // your sites identifier
            window.b_ui_event = window.c_ui_event != null ? window.c_ui_event : "", window.c_ui_event = a;
            var ui_pixel_url = 'https://sb.scorecardresearch.com/p?c1=2&c2=' + ui_c2 + '&site=' + ui_site + '&name=' + a + '&type=hidden&type=hidden&ui_type=' + b;
            var b = "comScore=", c = document, d = c.cookie, e = "", f = "indexOf", g = "substring", h = "length", i = 2048, j, k = "&", l = "&", m, n, o, p, q = window, r = q.encodeURIComponent || escape; if (d[f](b) + 1) for (o = 0, n = d.split(";"), p = n[h]; o < p; o++) m = n[o][f](b), m + 1 && (e = l + unescape(n[o][g](m + b[h]))); ui_pixel_url += k + "_t=" + +(new Date) + k + "c=" + (c.characterSet || c.defaultCharset || "") + "&c8=" + r(c.title) + e + "&c7=" + r(c.URL) + "&c9=" + r(c.referrer) + "&b_ui_event=" + b_ui_event + "&c_ui_event=" + c_ui_event, ui_pixel_url[h] > i && ui_pixel_url[f](l) > 0 && (j = ui_pixel_url[g](0, i - 8).lastIndexOf(l), ui_pixel_url = (ui_pixel_url[g](0, j) + k + "cut=" + r(ui_pixel_url[g](j + 1)))[g](0, i)), c.images ? (m = new Image, q.p || (p = m), m.src = ui_pixel_url) : c.write("<p><img src='", ui_pixel_url, "' height='1' width='1' alt='*'></p>");
            alert(ui_pixel_url);
        }
        udm_('https://sb.scorecardresearch.com/b?c1=2&c2=17183199&site=gobmx&name=ISSSTE.Hipotecas.calendario');

>>>>>>> .r116
    </script>
<<<<<<< .mine
    <noscript>&lt;p&gt;&lt;img src="https://sb.scorecardresearch.com/p?c1=2&amp;amp;c2=17183199&amp;amp;ns_site=gobmx&amp;amp;name=ISSSTE.Hipotecas.Inicio" height="1" width="1" alt="*"&gt;&lt;/p&gt;</noscript>
    <!-- End Digital Analytix Tag 1.1302.13 -->
    <script type="text/javascript" src="https://sb.scorecardresearch.com/c2/17183199/ct.js"></script>
||||||| .r86
=======
    <noscript><p><img src="https://sb.scorecardresearch.com/p?c1=2&amp;c2=17183199&amp;site=gobmx&amp;name=ISSSTE.Hipotecas.calendario" height="1" width="1" alt="*"></p></noscript>
    <!-- End Digital Analytix Tag 1.1302.13 -->
    <!-- The following code snippet should be place directly (or as close as possible) before the closing </body> tag.
    Please replace the site with your assigned site. -->
    <!-- Begin DAx cs.js import -->
    <script type="text/javascript" src="https://sb.scorecardresearch.com/c2/17183199/ct.js"></script>
    <!-- End DAx cs.js import -->
>>>>>>> .r116

    <link ng-href="{{nc.baseUrl}}Content/Entitle/calendario.css" rel="stylesheet">
    <!-- Start Trámite -->

    <div>
        <div class="alerts" style="padding-left: 0px;"></div>
        <div class="col-md-12 pull-right" style="width:1165px">
            <h2 class="col-md-8">Agendar una cita</h2>
            <hr class="col-md-8 red">
            <div class="alert alert-info col-md-8">
                De acuerdo a la disponibilidad en la delegación que elegiste, selecciona la fecha y horario de tu cita.

            </div>
            <h5 class="col-md-8" style="margin-left:-18px">Delegaciones:</h5>
            <div>
                <br />

                <select class="form-control" data-ng-model="vm.DelegationSelect" data-ng-change="vm.selectDelegation(del)" style="width:48%">
                    <option ng-selected="vm.DelegationSelect == del.DelegationId" data-ng-repeat="del in vm.delegations" value="{{del.DelegationId}}">{{del.Name}}</option>
                </select>
            </div>
            <div>
                <h5>Dirección:</h5>
                <p class="abl-del-address">{{vm.delegation.Address}}</p>
            </div>
            <br />
        </div> <!-- col -->

        <br />
        <div class="col-xs-12 pull-right" style="width:1165px">
            <div class="col-xs-9" style="padding-left: 0px;">
                <div class="form-group col-if-4 col-sm-4 col-md-1=4 col-lg-4" style="padding-left: 0px;">
                    <label class="control-label">Mes:</label>
                    <select class="form-control ns_" data-ng-model="vm.monthSelect" data-ng-change="vm.getCalendar()">
                        <option ng-selected="vm.monthSelect == mn.Value" data-ng-repeat="mn in vm.months" value="{{mn.Value}}">{{mn.Key}}</option>

                    </select>
                    <!--<input class="form-control text-center" type="text" data-ng-model="vm.dateSelected" placeholder="Selecciona una mes y año"
                               datetimepicker
                               datetimepicker-options="{ format: 'MMMM-YYYY', viewMode: 'years', locale: 'es',  minDate: '+1' }" data-ng-change="vm.getCalendar()"/>-->

                </div>

                <div class="form-group col-if-4 col-sm-4 col-md-4 col-lg-4 ns_" style="padding-right: 0; ">
                    <label class="control-label">Año:</label>
                    <select class="form-control" data-ng-model="vm.yearSelect" data-ng-change="vm.getCalendar()">
                        <option ng-selected="vm.yearSelect == yr.Value" data-ng-repeat="yr in vm.years" value="{{yr.Value}}">{{yr.Key}}</option>

                    </select>
                    <!--<input class="form-control text-center" type="text" data-ng-model="vm.dateSelected" placeholder="Selecciona una mes y año"
                               datetimepicker
                               datetimepicker-options="{ format: 'MMMM-YYYY', viewMode: 'years', locale: 'es',  minDate: '+1' }" data-ng-change="vm.getCalendar()"/>-->

                </div>
                <!-- MMMM-YYYY-->
                <table class="abl-thnobold" data-ng-hide="vm.calendar.Days == null">
                    <thead>
                        <tr>
                            <th style="text-transform:lowercase;">domingo</th>
                            <th style="text-transform:lowercase;">lunes</th>
                            <th style="text-transform:lowercase;">martes</th>
                            <th style="text-transform:lowercase;">miércoles</th>
                            <th style="text-transform:lowercase;">jueves</th>
                            <th style="text-transform:lowercase;">viernes</th>
                            <th style="text-transform:lowercase;">sábado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-ng-repeat="rw in vm.calendar.Days">
                            <td data-ng-repeat="col in rw" data-ng-model="vm.dayCalendar" data-ng-click="vm.getTimes(col)" data-ng-class="{
                                'sindisponibilidad' : col.Availability == 4,
                                'adisponible' : col.Availability == 1,
                                'today' : col.Day == vm.FromDate
                                }" onclick="cambiar_color_out(this)" id="fechaElegida" onblur="cambiar_color_over(this)">
                                <div class="selectedDay">{{col.Day}}</div>
                                <div></div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="col-xs-3" data-ng-hide="vm.calendar.Days == null">
                <div class="panel panel-default margintop-80">
                    <div class="panel-body">
                        <h5>Horarios disponibles:</h5>
                        <div class="alert alert-info">
                            Seleccionaste la fecha siguiente para tu cita:<br />{{vm.dateDelegation.Date}}<br />

                            Selecciona un horario para agendar cita.
                        </div>
                        <div class="col-xs-12">
                            <!--<p class="text-center">AM</p>-->
                            <div class="radio">
                                <label style="margin-left:10px;" data-ng-repeat="tm in vm.times">
                                    <input type="radio" data-ng-model="tm.timeselection" data-ng-click="vm.selectTime(tm)" name="tm.Time" value="tm" checked="checked">{{ tm.Time | limitTo : 5}}

                                </label>
                                <!--<label>
                                    <input type="radio" name="radio-01" value="opcion-02" checked="checked"> 09:30
                                </label>
                                <label>
                                    <input type="radio" name="radio-01" value="opcion-03" checked="checked"> 10:00
                                </label>
                                <label>
                                    <input type="radio" name="radio-01" value="opcion-03" checked="checked"> 10:30
                                </label>
                                <label>
                                    <input type="radio" name="radio-01" value="opcion-03" checked="checked"> 11:00
                                </label>
                                <label>
                                    <input type="radio" name="radio-01" value="opcion-03" checked="checked"> 11:30
                                </label>
                                <label>
                                    <input type="radio" name="radio-01" value="opcion-03" checked="checked"> 12:00
                                </label>
                                <label>
                                    <input type="radio" name="radio-01" value="opcion-03" checked="checked"> 12:30
                                </label>-->
                            </div>
                        </div>
                        <!--<div class="col-xs-6">
                            <p class="text-center">PM</p>
                            <div class="radio">
                                <label>
                                    <input type="radio" name="radio-01" value="opcion-01" checked="checked"> 03:00
                                </label>
                                <label>
                                    <input type="radio" name="radio-01" value="opcion-02" checked="checked"> 03:30
                                </label>
                                <label>
                                    <input type="radio" name="radio-01" value="opcion-03" checked="checked"> 04:00
                                </label>
                                <label>
                                    <input type="radio" name="radio-01" value="opcion-03" checked="checked"> 04:30
                                </label>
                                <label>
                                    <input type="radio" name="radio-01" value="opcion-03" checked="checked"> 05:00
                                </label>
                                <label>
                                    <input type="radio" name="radio-01" value="opcion-03" checked="checked"> 05:30
                                </label>
                                <label>
                                    <input type="radio" name="radio-01" value="opcion-03" checked="checked"> 06:00
                                </label>
                                <label>
                                    <input type="radio" name="radio-01" value="opcion-03" checked="checked"> 06:30
                                </label>
                            </div>
                        </div>-->

                    </div>
                </div>
                <div>
                    <div class="leyenda" data-ng-hide="vm.calendar.Days == null">
                        <span class="nodisponible-ley"></span><h6>Sin disponibilidad</h6>
                        <span class="disponible-ley"></span><h6>Disponible</h6>
                        <span class="diaactual-ley"></span><h6>Día actual</h6>
                    </div>
                </div>
            </div>
        </div>
        <div style="padding-left: 0px;">
            <div class="pull-right col-md-12 col-xs-12">
                <!-- Botones -->
                <div class="col-if-12 col-sm-12 col-md-12 pull-left text-muted">
                </div>
                <div class="col-if-12 col-sm-12 col-md-12">
                    <div class="pull-right bottom-buffer" style="padding-top: 30px; margin-left:10px">
                        <div data-ng-hide="vm.calendar.Days == null">
                            <a data-ng-click="nc.navigateToDateRequest(vm.reqId)" class="btn btn-default">Regresar</a>
                            <a href="#clickin" onclick="uid_call('calendar.newAppointment.request', 'clickin')" data-ng-click="vm.saveAppointment(nc.navigateToDateRequest)" data-ng-class="{ 'disabled' : vm.dayCalendar == null || vm.timeselection ==  null }" class="btn btn-primary">
                                <span class="glyphicon glyphicon-calendar"></span>&nbsp;&nbsp;Agendar cita
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- row -->
        <!-- End Trámite -->
        <!-- End tramite Hipotecas -->


    </div><!-- container -->
</div>

<script language="JavaScript">
    function cambiar_color_over(celda) {
        celda.style.backgroundColor = "#a94442"
    }
    function cambiar_color_out(celda) {
        celda.style.backgroundColor = "#E59621"
    }

    function blurFunction() {
        document.getElementById("fechaElegida").style.background = "D0021B";
    }
</script>